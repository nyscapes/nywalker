  <div id="map" style="height: {{map_height}}">
      </div>
      <script>
        var map = L.map('map').setView([0,0], 1);
        var baseLayer = L.tileLayer.provider('OpenStreetMap.Mapnik').addTo(map);
        // This array changes the circleMarker's color scheme to match the confidence in the place. Darker & fainter for less confident.
        var confidence_array = [{}, 
          {'opacity': 0.25, 'fillColor': '#000099', 'color': '#000099'}, 
          {'opacity': 0.4, 'fillColor': '#0000aa', 'color': '#0000aa'},
          {'opacity': 0.7, 'fillColor': '#0000ee', 'color': '#0000ee'}
        ];
        var dots = L.markerClusterGroup();
        $.getJSON("/json/{{{json_file}}}.json", function(places){
          places.forEach(function(place){
            let popup = "<h4><a href='/places/" + place.slug + 
              "'>" + place.name + "</a></h4>" +
              "<small><strong>Referred to as:</strong><br/>" + 
              place.place_names + "<strong>Total mentions:</strong> " + 
              place.count + "<br/><strong>Confidence (0â€“3):</strong> " + 
              place.confidence + "</small>";
            dots.addLayer(L.circleMarker([place.lat, place.lon],
              confidence_array[place.confidence]).bindPopup(popup).bindTooltip(place.place_names_sentence));
          });
          dots.addTo(map);
          map.fitBounds(dots.getBounds());
        });
      </script>
